{% extends "base.html" %}
{% load staticfiles %}


{% block title %}Students List{% endblock title %}


{% block nav_class_students %}active{% endblock %}


{% block content %}
  <div class="jumbotron">
    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
          <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
    <a href="{% url 'students:add' %}" type="button" class="btn btn-primary">Create new student</a>
    <h3 class="h3-textstyle">Students List:</h3>
    <table class="courses-list-table">
      <thead>
      <tr>
        <th>#</th>
        <th>Surneme Name</th>
        <th>Address</th>
        <th>Skype</th>
        <th>Courses</th>
      </tr>
      </thead>
      <tbody>
      {% for item in students %}
      <tr>
        <td>{{forloop.counter}}</td>
        <td><a href="{% url 'students:detail' item.id %}">{{ item.surname }} {{ item.name }}</a></td>
        <td>{{ item.address }}</td>
        <td>{{ item.skype }}</td>
        <td>{% for i in item.courses.all %}
          <a href="{% url 'courses:detail' i.id %}">{{ i|linebreaks }}</a>
          {% endfor %}
        </td>
        <td><a href="{% url 'students:edit' item.pk %}" type="button" class="btn btn-primary">Edit</a></td>
        <td><a href="{% url 'students:remove' item.pk %}" type="button" class="btn btn-primary">Delete</a></td>
      </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock content %}
